!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom"),require("react-bootstrap")):"function"==typeof define&&define.amd?define(["react","react-dom","react-bootstrap"],t):"object"==typeof exports?exports.ReactBootstrapAutosuggest=t(require("react"),require("react-dom"),require("react-bootstrap")):e.ReactBootstrapAutosuggest=t(e.React,e.ReactDOM,e.ReactBootstrap)}(this,function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=17)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(5),o=(function(e){e&&e.__esModule}(s),function(){function e(){r(this,e)}return a(e,[{key:"receiveProps",value:function(e,t){this.props=e,this.itemAdapter=t}},{key:"isEmpty",value:function(e){return!this.getLength(e)}},{key:"filter",value:function(e,t){return this.toArray(e).filter(t)}},{key:"find",value:function(e,t){return this.toArray(e).find(t)}},{key:"findMatching",value:function(e,t){var n=this,r=this.itemAdapter.foldValue(t);return this.find(e,function(e){return n.itemAdapter.itemMatchesInput(e,r)})}}]),e}()),i=o;t.default=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(o,"ListAdapter","/Users/murphyke/Documents/code/react-bootstrap-autosuggest/src/ListAdapter.js"),__REACT_HOT_LOADER__.register(i,"default","/Users/murphyke/Documents/code/react-bootstrap-autosuggest/src/ListAdapter.js"))}()},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function a(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var o=0;o<n.length;o++)if(!s.call(t,n[o])||!r(e[n[o]],t[n[o]]))return!1;return!0}var s=Object.prototype.hasOwnProperty;e.exports=a},function(e,t,n){e.exports=n(20)()},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return"number"==typeof e?e:e.toString()}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return s(e,[{key:"receiveProps",value:function(e){this.props=e}},{key:"getReactKey",value:function(e){var t=this.props.itemReactKeyPropName;if(t){var n=e[t];if(null!=n)return n}return a(this.getRawValue(e))}},{key:"getSortKey",value:function(e){var t=this.props.itemSortKeyPropName;if(t){var n=e[t];if(null!=n)return n}return a(this.getRawValue(e))}},{key:"getInputValue",value:function(e){return this.getRawValue(e).toString()}},{key:"getRawValue",value:function(e){var t=this.props.itemValuePropName;if(t){var n=e[t];if(null!=n)return n}return e}},{key:"getTextRepresentations",value:function(e){return[this.foldValue(this.getInputValue(e))]}},{key:"foldValue",value:function(e){return e.toLowerCase()}},{key:"newFromValue",value:function(e){return e}},{key:"itemIncludedByInput",value:function(e,t){var n=!0,r=!1,a=void 0;try{for(var s,o=this.getTextRepresentations(e)[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){if(s.value.indexOf(t)>=0)return!0}}catch(e){r=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw a}}return!1}},{key:"itemMatchesInput",value:function(e,t){var n=!0,r=!1,a=void 0;try{for(var s,o=this.getTextRepresentations(e)[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){if(s.value===t)return!0}}catch(e){r=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw a}}return!1}},{key:"sortItems",value:function(e,t){var n=this;return e.sort(function(e,r){return n.compareItemsWithValue(e,r,t)}),e}},{key:"compareItemsWithValue",value:function(e,t,n){var r=this.itemMatchesInput(e,n);if(r!=this.itemMatchesInput(t,n))return r?-1:1;var a=this.itemInclusionRankForInput(e,n),s=this.itemInclusionRankForInput(t,n);return a!=s?a-s:this.compareItems(e,t)}},{key:"itemInclusionRankForInput",value:function(e,t){var n=!1,r=!0,a=!1,s=void 0;try{for(var o,i=this.getTextRepresentations(e)[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var u=o.value,l=u.indexOf(t);if(0===l)return 0;l>0&&(n=!0)}}catch(e){a=!0,s=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw s}}return n?1:2}},{key:"compareItems",value:function(e,t){var n=this.getSortKey(e),r=this.getSortKey(t);return n<r?-1:n==r?0:1}},{key:"renderItem",value:function(e){return this.getInputValue(e)}},{key:"renderSuggested",value:function(e){return this.renderItem(e)}},{key:"renderSelected",value:function(e){return this.renderItem(e)}}]),e}(),i=o;t.default=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(a,"toStringOrNumber","/Users/murphyke/Documents/code/react-bootstrap-autosuggest/src/ItemAdapter.js"),__REACT_HOT_LOADER__.register(o,"ItemAdapter","/Users/murphyke/Documents/code/react-bootstrap-autosuggest/src/ItemAdapter.js"),__REACT_HOT_LOADER__.register(i,"default","/Users/murphyke/Documents/code/react-bootstrap-autosuggest/src/ItemAdapter.js"))}()},function(e,t,n){var r,a;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===a)for(var o in r)s.call(r,o)&&r[o]&&e.push(o)}}return e.join(" ")}var s={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:(r=[],void 0!==(a=function(){return n}.apply(t,r))&&(e.exports=a))}()},function(e,t){function n(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return o[e];var n=String(e),s=r[n.toLowerCase()];if(s)return s;var s=a[n.toLowerCase()];return s||(1===n.length?n.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null===n||void 0===n)return!1;if("string"==typeof t){var s=r[t.toLowerCase()];if(s)return s===n;var s=a[t.toLowerCase()];if(s)return s===n}else if("number"==typeof t)return t===n;return!1}},t=e.exports=n;var r=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */
for(s=97;s<123;s++)r[String.fromCharCode(s)]=s-32;for(var s=48;s<58;s++)r[s-48]=s;for(s=1;s<13;s++)r["f"+s]=s+111;for(s=0;s<10;s++)r["numpad "+s]=s+96;var o=t.names=t.title={};for(s in r)o[r[s]]=s;for(var i in a)r[i]=a[i]},function(e,t){e.exports=n},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(l),f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"key";a(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.itemKeyPropName=e,n}return o(t,e),u(t,[{key:"_getKeyValueItem",value:function(e,t){var n,a=this.itemKeyPropName,s=this.props.itemValuePropName,o=void 0===s?"value":s;return"object"==typeof t&&o in t?t[a]===e?t:i(r({},a,e),t):(n={},r(n,a,e),r(n,o,t),n)}}]),t}(c.default),p=f;t.default=p;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(f,"KeyedListAdapter","/Users/murphyke/Documents/code/react-bootstrap-autosuggest/src/KeyedListAdapter.js"),__REACT_HOT_LOADER__.register(p,"default","/Users/murphyke/Documents/code/react-bootstrap-autosuggest/src/KeyedListAdapter.js"))}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(i),l=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"getLength",value:function(e){return e.length}},{key:"filter",value:function(e,t){return e.filter(t)}},{key:"find",value:function(e,t){return e.find(t)}},{key:"toArray",value:function(e){return e.slice()}}]),t}(u.default),c=l;t.default=c;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(l,"ArrayListAdapter","/Users/murphyke/Documents/code/react-bootstrap-autosuggest/src/ArrayListAdapter.js"),__REACT_HOT_LOADER__.register(c,"default","/Users/murphyke/Documents/code/react-bootstrap-autosuggest/src/ArrayListAdapter.js"))}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(6),c=r(l),f=n(1),p=r(f),d=n(7),h=r(d),_=n(2),y=r(_),m=n(3),v=r(m),g=n(4),b=r(g),I=function(e){function t(){var e;s(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var u=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a(r)))),l=u;return l._handleKeyDown=u._handleKeyDown.bind(u),l._handleKeyPress=u._handleKeyPress.bind(u),l._handleClose=u._handleClose.bind(u),l._handleClick=u._handleClick.bind(u),l._focusInput=u._focusInput.bind(u),u}return i(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e){return!(0,p.default)(this.props,e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.autoHeight,r=t.disabled,a=t.focused,s=t.inputValue,o=t.items,i=t.renderItem,u=t.children,l=o.length>0,f=void 0;return l&&(f={width:.75*(s.length+1)+"em"}),v.default.createElement("ul",{className:(0,c.default)("form-control","autosuggest-choices",{focused:a,"has-items":l,"auto-height":n}),disabled:r,onClick:this._focusInput},o.map(function(t,n){return v.default.createElement("li",{key:n,"data-index":n,tabIndex:r?void 0:"-1",className:"autosuggest-choice",onKeyDown:e._handleKeyDown,onKeyPress:e._handleKeyPress},v.default.createElement("span",{className:"autosuggest-choice-close",onClick:e._handleClose}),v.default.createElement("span",{className:"autosuggest-choice-label",onClick:e._handleClick},i(t)))}),v.default.createElement("li",{className:"autosuggest-input-choice",style:f},u))}},{key:"_handleKeyDown",value:function(e){switch(e.keyCode){case h.default.codes.left:this._focusPrevious(),e.preventDefault();break;case h.default.codes.right:this._focusNext(),e.preventDefault();break;case h.default.codes.backspace:this._removeActive(-1),e.preventDefault();break;case h.default.codes.delete:this._removeActive(0),e.preventDefault()}}},{key:"_handleKeyPress",value:function(e){this._focusInput();var t=this.props.onKeyPress;t&&t(e)}},{key:"_handleClose",value:function(e){if(!this.props.disabled&&e.target instanceof HTMLElement){var t=e.target.parentNode;if(t instanceof Element){var n=Number(t.getAttribute("data-index"));this._remove(n)}}e.stopPropagation()}},{key:"_handleClick",value:function(e){e.stopPropagation()}},{key:"focusFirst",value:function(){var e=this._getFocusableMenuItems(!1);e.length>0&&e[0].focus()}},{key:"focusLast",value:function(){var e=this._getFocusableMenuItems(!1);e.length>0&&e[e.length-1].focus()}},{key:"_focusPrevious",value:function(){var e=this._getItemsAndActiveIndex(!0),t=e.items,n=e.activeIndex;n>0?t[n-1].focus():t.length>0&&t[t.length-1].focus()}},{key:"_focusNext",value:function(){var e=this._getItemsAndActiveIndex(!0),t=e.items,n=e.activeIndex;n<t.length-1?t[n+1].focus():t.length>0&&t[0].focus()}},{key:"_focusInput",value:function(){var e=b.default.findDOMNode(this);if(e instanceof Element){var t=e.querySelector("input");t&&t.focus()}}},{key:"_remove",value:function(e){var t=this.props.onRemove;t&&t(e)}},{key:"_removeActive",value:function(e){var t=this._getItemsAndActiveIndex(!1),n=t.items,r=t.activeIndex;if(r>=0){var a=r+e;a<0||a>=n.length-1?this._focusInput():0!=e&&n[a].focus(),this._remove(r)}}},{key:"_getItemsAndActiveIndex",value:function(e){var t=this._getFocusableMenuItems(e),n=document.activeElement;return{items:t,activeIndex:n?t.indexOf(n):-1}}},{key:"_getFocusableMenuItems",value:function(e){var t=b.default.findDOMNode(this);return t instanceof Element?Array.from(t.querySelectorAll(e?'[tabIndex="-1"],input':'[tabIndex="-1"]')):[]}}]),t}(v.default.Component);I.propTypes={autoHeight:y.default.bool,disabled:y.default.bool,focused:y.default.bool,inputValue:y.default.string,items:y.default.arrayOf(y.default.any).isRequired,onKeyPress:y.default.func,onRemove:y.default.func,renderItem:y.default.func.isRequired};var A=I;t.default=A;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(I,"Choices","/Users/murphyke/Documents/code/react-bootstrap-autosuggest/src/Choices.js"),__REACT_HOT_LOADER__.register(A,"default","/Users/murphyke/Documents/code/react-bootstrap-autosuggest/src/Choices.js"))}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(i),l=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"getLength",value:function(){return 0}},{key:"filter",value:function(){return[]}},{key:"find",value:function(){}},{key:"toArray",value:function(){return[]}}]),t}(u.default),c=l;t.default=c;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(l,"EmptyListAdapter","/Users/murphyke/Documents/code/react-bootstrap-autosuggest/src/EmptyListAdapter.js"),__REACT_HOT_LOADER__.register(c,"default","/Users/murphyke/Documents/code/react-bootstrap-autosuggest/src/EmptyListAdapter.js"))}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(9),u=function(e){return e&&e.__esModule?e:{default:e}}(i),l=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"getLength",value:function(e){return e.size}},{key:"filter",value:function(e,t){var n=[],r=!0,a=!1,s=void 0;try{for(var o,i=e.entries()[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var u=o.value,l=this._getKeyValueItem(u[0],u[1]);t(l)&&n.push(l)}}catch(e){a=!0,s=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw s}}return n}},{key:"find",value:function(e,t){var n=!0,r=!1,a=void 0;try{for(var s,o=e.entries()[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var i=s.value,u=this._getKeyValueItem(i[0],i[1]);if(t(u))return u}}catch(e){r=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw a}}}},{key:"toArray",value:function(e){var t=[],n=!0,r=!1,a=void 0;try{for(var s,o=e.entries()[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var i=s.value;t.push(this._getKeyValueItem(i[0],i[1]))}}catch(e){r=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw a}}return t}}]),t}(u.default),c=l;t.default=c;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(l,"MapListAdapter","/Users/murphyke/Documents/code/react-bootstrap-autosuggest/src/MapListAdapter.js"),__REACT_HOT_LOADER__.register(c,"default","/Users/murphyke/Documents/code/react-bootstrap-autosuggest/src/MapListAdapter.js"))}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(9),u=function(e){return e&&e.__esModule?e:{default:e}}(i),l=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),o(t,[{key:"getLength",value:function(e){return Object.keys(e).length}},{key:"filter",value:function(e,t){var n=[],r=!0,a=!1,s=void 0;try{for(var o,i=Object.keys(e)[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var u=o.value,l=this._getKeyValueItem(u,e[u]);t(l)&&n.push(l)}}catch(e){a=!0,s=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw s}}return n}},{key:"find",value:function(e,t){var n=!0,r=!1,a=void 0;try{for(var s,o=Object.keys(e)[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var i=s.value,u=this._getKeyValueItem(i,e[i]);if(t(u))return u}}catch(e){r=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw a}}}},{key:"toArray",value:function(e){var t=[],n=!0,r=!1,a=void 0;try{for(var s,o=Object.keys(e)[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var i=s.value;t.push(this._getKeyValueItem(i,e[i]))}}catch(e){r=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw a}}return t}}]),t}(u.default),c=l;t.default=c;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(l,"ObjectListAdapter","/Users/murphyke/Documents/code/react-bootstrap-autosuggest/src/ObjectListAdapter.js"),__REACT_HOT_LOADER__.register(c,"default","/Users/murphyke/Documents/code/react-bootstrap-autosuggest/src/ObjectListAdapter.js"))}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(2),f=r(c),p=n(3),d=r(p),h=n(8),_=n(4),y=r(_),m=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"shouldComponentUpdate",value:function(e){return!(0,l.default)(this.props,e)}},{key:"isFocused",value:function(){var e=y.default.findDOMNode(this.refs.menu);return null!=e&&document&&e.contains(document.activeElement)}},{key:"focusFirst",value:function(){this.refs.menu.focusNext()}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.datalistMessage,r=e.onDatalistMessageSelect;return d.default.createElement(h.Dropdown.Menu,{labelledBy:this.props.labelledBy,onClose:this.props.onClose,open:this.props.open,ref:"menu"},t.map(this._renderItem,this),this.props.filtered&&d.default.createElement(h.MenuItem,{key:"show-all",onSelect:this.props.onDisableFilter},d.default.createElement("span",{className:"show-all"},0===t.length?d.default.createElement("span",{className:"no-matches"}):null)),n&&d.default.createElement(h.MenuItem,{key:"datalist-message",disabled:null==r,onSelect:r},n))}},{key:"_renderItem",value:function(e,t){var n=this.props.isSelectedItem(e);return d.default.createElement(h.MenuItem,{active:n,className:t!==this.props.focusedIndex||n?void 0:"pseudofocused",eventKey:e,key:this.props.getItemKey(e),onSelect:this.props.onSelect},this.props.renderItem(e))}}]),t}(d.default.Component);m.propTypes={datalistMessage:f.default.node,filtered:f.default.bool,focusedIndex:f.default.number,getItemKey:f.default.func.isRequired,isSelectedItem:f.default.func.isRequired,items:f.default.arrayOf(f.default.any).isRequired,labelledBy:f.default.oneOfType([f.default.string,f.default.number]),onClose:f.default.func,onDatalistMessageSelect:f.default.func,onDisableFilter:f.default.func,onSelect:f.default.func.isRequired,open:f.default.bool,renderItem:f.default.func.isRequired};var v=m;t.default=v;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(m,"Suggestions","/Users/murphyke/Documents/code/react-bootstrap-autosuggest/src/Suggestions.js"),__REACT_HOT_LOADER__.register(v,"default","/Users/murphyke/Documents/code/react-bootstrap-autosuggest/src/Suggestions.js"))}()},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectListAdapter=t.MapListAdapter=t.ArrayListAdapter=t.EmptyListAdapter=t.ListAdapter=t.ItemAdapter=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(6),f=r(c),p=n(1),d=r(p),h=n(7),_=r(h),y=n(2),m=r(y),v=n(3),g=r(v),b=n(8),I=n(4),A=r(I),O=n(16),k=(r(O),n(11)),w=r(k),V=n(15),T=r(V),E=n(5),C=r(E),R=n(0),P=r(R),j=n(12),S=r(j),D=n(10),M=r(D),L=n(13),x=r(L),K=n(14),F=r(K);t.ItemAdapter=C.default,t.ListAdapter=P.default,t.EmptyListAdapter=S.default,t.ArrayListAdapter=M.default,t.MapListAdapter=x.default,t.ObjectListAdapter=F.default;var N=function(e){function t(e){var n;s(this,t);for(var r=arguments.length,i=Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];var l=o(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(a(i))));l._itemAdapter=e.itemAdapter||new C.default,l._itemAdapter.receiveProps(e),l._listAdapter=e.datalistAdapter||l._getListAdapter(e.datalist),l._listAdapter.receiveProps(e,l._itemAdapter);var c=l._getValueFromProps(e),f=c.inputValue,p=c.inputItem,d=c.inputItemEphemeral,h=c.selectedItems;l._setValueMeta(p,d,!0,!0),l._lastValidItem=p,l._lastValidValue=f,l._keyPressCount=0,l.state={open:!1,disableFilter:!1,inputValue:f,inputValueKeyPress:0,inputFocused:!1,selectedItems:h,searchValue:null},l._lastOnChangeValue=l._getCurrentValue(),l._lastOnSelectValue=p;var _=l;return _._renderSelected=l._renderSelected.bind(l),_._getItemKey=l._getItemKey.bind(l),_._isSelectedItem=l._isSelectedItem.bind(l),_._renderSuggested=l._renderSuggested.bind(l),_._handleToggleClick=l._handleToggleClick.bind(l),_._handleInputChange=l._handleInputChange.bind(l),_._handleItemSelect=l._handleItemSelect.bind(l),_._removeItem=l._removeItem.bind(l),_._handleShowAll=l._handleShowAll.bind(l),_._handleKeyDown=l._handleKeyDown.bind(l),_._handleKeyPress=l._handleKeyPress.bind(l),_._handleMenuClose=l._handleMenuClose.bind(l),_._handleInputFocus=l._handleInputFocus.bind(l),_._handleInputBlur=l._handleInputBlur.bind(l),_._handleFocus=l._handleFocus.bind(l),_._handleBlur=l._handleBlur.bind(l),l}return i(t,e),l(t,null,[{key:"defaultInputSelect",value:function(e,t,n){switch(e.type){case"text":case"search":case"url":case"tel":case"password":if(e.setSelectionRange)e.setSelectionRange(t.length,n.length);else if(e.createTextRange){var r=e.createTextRange();r.moveEnd("character",n.length),r.moveStart("character",t.length),r.select()}}}}]),l(t,[{key:"_getListAdapter",value:function(e){if(null==e)return new S.default;if(Array.isArray(e))return new M.default;if(e instanceof Map)return new x.default;if("object"==typeof e)return new F.default;throw Error("Unexpected datalist type: datalistAdapter required")}},{key:"_getValueFromProps",value:function(e){var t="",n=null,r=!1,a=[],s=e.value||e.defaultValue;if(null!=s)if(e.multiple)Array.isArray(s)&&(a=this._filterItems(s,e));else if(e.valueIsItem){var o=this._itemAdapter.getInputValue(s);null!=e.datalist?(n=this._listAdapter.findMatching(e.datalist,o),null!=n?t=n===s?o:this._itemAdapter.getInputValue(n):e.datalistOnly&&!e.datalistPartial?this._warnInvalidValue(s):(t=o,n=s)):(t=o,n=s)}else s&&(null!=e.datalist?(n=this._listAdapter.findMatching(e.datalist,s),null!=n?t=this._itemAdapter.getInputValue(n):e.datalistOnly&&!e.datalistPartial?this._warnInvalidValue(s):(t=s.toString(),n=this._itemAdapter.newFromValue(s),r=!0)):(t=s.toString(),n=this._itemAdapter.newFromValue(s),r=!0));return{inputValue:t,inputItem:n,inputItemEphemeral:r,selectedItems:a}}},{key:"_filterItems",value:function(e,t){if(null!=t.datalist||!t.allowDuplicates){var n=[],r={},a=!1,s=!0,o=!1,i=void 0;try{for(var u,l=e[Symbol.iterator]();!(s=(u=l.next()).done);s=!0){var c=u.value,f=this._itemAdapter.getInputValue(c);if(t.allowDuplicates||!r[f]){var p=this._listAdapter.findMatching(t.datalist,f);null!=p?(n.push(p),r[f]=!0,a=!0):t.datalistOnly&&!t.datalistPartial?(this._warnInvalidValue(f),a=!0):(n.push(c),r[f]=!0)}else a=!0}}catch(e){o=!0,i=e}finally{try{!s&&l.return&&l.return()}finally{if(o)throw i}}if(a)return n}return e}},{key:"_warnInvalidValue",value:function(e){}},{key:"_setInputValue",value:function(e,t){this.setState({inputValue:e,inputValueKeyPress:this._keyPressCount},t)}},{key:"_setValueMeta",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null!=e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;this._inputItem=e,this._inputItemEphemeral=t,this._valueIsValid=n,this._valueWasValidated=r}},{key:"_clearInput",value:function(){this._setValueMeta(null,!1,!0,!0),this._setInputValue("")}},{key:"_getValueUsing",value:function(e,t,n,r){return e.multiple?r:e.valueIsItem?n:t}},{key:"_getCurrentValue",value:function(){return this._getValueUsing(this.props,this.state.inputValue,this._inputItem,this.state.selectedItems)}},{key:"componentDidMount",value:function(){this._autoCompleteAfterRender=!this.refs.input.setSelectionRange}},{key:"componentWillReceiveProps",value:function(e){if(e.itemAdapter!=this.props.itemAdapter&&(this._itemAdapter=e.itemAdapter||new C.default),this._itemAdapter.receiveProps(e),e.datalist!=this.props.datalist||e.datalistAdapter!=this.props.datalistAdapter)if(e.datalistAdapter)this._listAdapter=e.datalistAdapter;else{var t=this._getListAdapter(e.datalist);t.constructor!=this._listAdapter.constructor&&(this._listAdapter=t)}this._listAdapter.receiveProps(e,this._itemAdapter);var n=e.value,r=this.state.inputValue,a=n!==this.props.value&&n!==this._getValueUsing(e,r,this._inputItem,this.state.selectedItems),s=void 0,o=void 0,i=void 0,u=void 0;if(!a){if(e.datalistOnly){var l=!e.datalistPartial&&null!=e.datalist,c=!this.props.datalistOnly||!e.datalistPartial&&this.props.datalistPartial||e.datalist!=this.props.datalist;r?(s=this._listAdapter.findMatching(e.datalist,r),null==s&&(l||this._inputItemEphemeral?this._inputItemEphemeral&&n===r&&(i=!0):s=this._inputItem),(o=null==s&&c)&&this._focused&&(this._setValueMeta(null,!1,!1,!0),c&&l&&null!=this._lastValidItem&&(this._lastValidItem=this._listAdapter.findMatching(e.datalist,this._lastValidValue),null==this._lastValidItem&&(this._lastValidValue="")),o=!1)):(s=null,o=!1),u=e.multiple&&l&&c}e.multiple&&!e.allowDuplicates&&this.props.allowDuplicates&&(u=!0)}if(a||o){var f=void 0,p=void 0;if(i)r="",f=!1,p=[];else{var d=this._getValueFromProps(e);r=d.inputValue,s=d.inputItem,f=d.inputItemEphemeral,p=d.selectedItems}s===this._inputItem&&this._focused?a&&e.multiple&&this.setState({selectedItems:p}):(this._setValueMeta(s,f,!0,!0),this._setInputValue(r),this.setState({selectedItems:p}),u=!1,this._lastValidItem=s,this._lastValidValue=r,a&&(this._lastOnChangeValue=this._getValueUsing(e,r,s,p)))}else r&&e.datalist!=this.props.datalist&&this._focused&&this._checkAutoComplete(r,e);if(u){var h=this._filterItems(this.state.selectedItems,e);this.setState({selectedItems:h})}e.datalistMessage&&e.datalistMessage!=this.props.datalistMessage&&this._focused&&this._open("message",e)}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,d.default)(this.props,e)||!(0,d.default)(this.state,t)}},{key:"componentWillUpdate",value:function(e,t){var n=this.refs.suggestions;this._menuFocusedBeforeUpdate=n&&n.isFocused();var r=t.inputValue;if(r!=this.state.inputValue){var a=void 0,s=void 0,o=void 0;if(this._valueWasValidated?(a=this._inputItem,o=this._valueIsValid):(r?(a=this._listAdapter.findMatching(e.datalist,r),null!=a||e.datalistOnly?(s=!1,o=null!=a):(a=this._itemAdapter.newFromValue(r),s=!0,o=!0)):(a=null,s=!1,o=!e.required),this._setValueMeta(a,s,o)),o&&(this._lastValidItem=a,this._lastValidValue=a&&!s?this._itemAdapter.getInputValue(a):r),o){var i=e.multiple,u=e.onChange;if(!i&&u){var l=this._getValueUsing(e,r,a,t.selectedItems);l!==this._lastOnChangeValue&&(this._lastOnChangeValue=l,u(l))}var c=e.onSelect;c&&a!==this._lastOnSelectValue&&(this._lastOnSelectValue=a,c(a))}}var f=e.onToggle;f&&t.open!=this.state.open&&f(t.open)}},{key:"componentDidUpdate",value:function(e,t){this.state.open&&!t.open&&"keydown"===this._lastOpenEventType||this.state.disableFilter&&!t.disableFilter&&this._menuFocusedBeforeUpdate?this.refs.suggestions.focusFirst():!this.state.open&&t.open&&this._menuFocusedBeforeUpdate&&(this._menuFocusedBeforeUpdate=!1,this._focusInput())}},{key:"componentWillUnmount",value:function(){clearTimeout(this._focusTimeoutId),this._focusTimeoutId=null,clearTimeout(this._searchTimeoutId),this._searchTimeoutId=null}},{key:"_focusInput",value:function(){var e=A.default.findDOMNode(this.refs.input);e instanceof HTMLElement&&e.focus()}},{key:"_open",value:function(e,t){this._lastOpenEventType=e;var n="autocomplete"!==e&&this._hasNoOrExactMatch(t);this.setState({open:!0,disableFilter:n});var r=t.onSearch,a=this.state,s=a.inputValue,o=a.searchValue;r&&o!==s&&(this.setState({searchValue:s}),r(s))}},{key:"_close",value:function(){this.setState({open:!1})}},{key:"_toggleOpen",value:function(e,t){this.state.open?this._close():this._open(e,t)}},{key:"_canOpen",value:function(){var e=this.props.datalist;return null==e&&this.props.onSearch||!this._listAdapter.isEmpty(e)||!!this.props.datalistMessage}},{key:"_hasNoOrExactMatch",value:function(e){var t=this;if(null!=this._inputItem&&!this._inputItemEphemeral)return!0;var n=this._itemAdapter.foldValue(this.state.inputValue);return null==this._listAdapter.find(e.datalist,function(e){return t._itemAdapter.itemIncludedByInput(e,n)})}},{key:"render",value:function(){var e=this.props.showToggle,t=this._canOpen(),n="auto"===e?t:e,r={autosuggest:!0,open:this.state.open,disabled:this.props.disabled,dropdown:n&&!this.props.dropup,dropup:n&&this.props.dropup};return g.default.createElement("div",{key:"dropdown",className:(0,f.default)(r),onFocus:this._handleFocus,onBlur:this._handleBlur},this._renderInputGroup(n,t),this._renderMenu())}},{key:"_renderInputGroup",value:function(e,t){var n=this.props.addonBefore?g.default.createElement("span",{className:"input-group-addon",key:"addonBefore"},this.props.addonBefore):null,r=this.props.addonAfter?g.default.createElement("span",{className:"input-group-addon",key:"addonAfter"},this.props.addonAfter):null,a=this.props.buttonBefore?g.default.createElement("span",{className:"input-group-btn"},this.props.buttonBefore):null,s=e&&this._renderToggle(t),o=s||this.props.buttonAfter?g.default.createElement("span",{className:"input-group-btn"},this.props.buttonAfter,s):null,i=(0,f.default)({"input-group":n||r||a||o,"input-group-sm":"small"===this.props.bsSize,"input-group-lg":"large"===this.props.bsSize,"input-group-toggle":!!s});return i?g.default.createElement("div",{className:i,key:"input-group"},n,a,this._renderChoices(),r,o):this._renderChoices()}},{key:"_renderToggle",value:function(e){return g.default.createElement(b.Dropdown.Toggle,{ref:"toggle",key:"toggle",id:this.props.toggleId,bsSize:this.props.bsSize,disabled:this.props.disabled||!e,open:this.state.open,onClick:this._handleToggleClick,onKeyDown:this._handleKeyDown})}},{key:"_renderChoices",value:function(){if(this.props.multiple){var e=this.props.choicesClass,t=void 0===e?w.default:e;return g.default.createElement(t,{ref:"choices",autoHeight:!(this.props.showToggle||this.props.addonAfter||this.props.addonBefore||this.props.buttonAfter||this.props.buttonBefore),disabled:this.props.disabled,focused:this.state.inputFocused,inputValue:this.state.inputValue,items:this.state.selectedItems,onKeyPress:this._handleKeyPress,onRemove:this._removeItem,renderItem:this._renderSelected},this._renderInput())}return this._renderInput()}},{key:"_renderSelected",value:function(e){return this._itemAdapter.renderSelected(e)}},{key:"_renderInput",value:function(){var e=this.context.$bs_formGroup,n=e&&e.controlId,r={},a=!0,s=!1,o=void 0;try{for(var i,l=Object.keys(this.props)[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var c=i.value;t.propTypes[c]||(r[c]=this.props[c])}}catch(e){s=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(s)throw o}}var p=!this.props.multiple||!this.state.selectedItems.length;return g.default.createElement("input",u({autoComplete:"off"},r,{className:(0,f.default)(this.props.className,{"form-control":!this.props.multiple}),ref:"input",key:"input",id:n,disabled:this.props.disabled,required:this.props.required&&p,placeholder:p?this.props.placeholder:void 0,type:this.props.type,value:this.state.inputValue,onChange:this._handleInputChange,onKeyDown:this._handleKeyDown,onKeyPress:this._handleKeyPress,onFocus:this._handleInputFocus,onBlur:this._handleInputBlur}))}},{key:"_renderMenu",value:function(){var e=this;this._pseudofocusedItem=null;var t=this.state.open;if(!t)return null;var n=this.props.datalist,r=this._itemAdapter.foldValue(this.state.inputValue);this._foldedInputValue=r;var a=void 0;a=this.state.disableFilter?this._listAdapter.toArray(n):this._listAdapter.filter(n,function(t){return e._itemAdapter.itemIncludedByInput(t,r)&&e._allowItem(t)}),a=this._itemAdapter.sortItems(a,r);var s=a.length<this._listAdapter.getLength(n),o=void 0;a.length>0&&this.state.inputFocused&&(!this.props.multiple||this.props.datalistOnly)&&(this._pseudofocusedItem=a[o=0]);var i=this.props,u=i.suggestionsClass,l=void 0===u?T.default:u,c=i.datalistMessage,f=i.onDatalistMessageSelect,p=i.toggleId;return g.default.createElement(l,{ref:"suggestions",datalistMessage:c,filtered:s,focusedIndex:o,getItemKey:this._getItemKey,isSelectedItem:this._isSelectedItem,items:a,labelledBy:p,onClose:this._handleMenuClose,onDatalistMessageSelect:f,onDisableFilter:this._handleShowAll,onSelect:this._handleItemSelect,open:t,renderItem:this._renderSuggested})}},{key:"_allowItem",value:function(e){var t=this;if(this.props.allowDuplicates)return!0;var n=this._itemAdapter.getInputValue(e);return!this.state.selectedItems.find(function(e){return t._itemAdapter.getInputValue(e)===n})}},{key:"_getItemKey",value:function(e){return this._itemAdapter.getReactKey(e)}},{key:"_isSelectedItem",value:function(e){return this._itemAdapter.itemMatchesInput(e,this._foldedInputValue)}},{key:"_renderSuggested",value:function(e){return this._itemAdapter.renderSuggested(e)}},{key:"_handleToggleClick",value:function(){this._toggleOpen("click",this.props)}},{key:"_handleInputChange",value:function(e){var t=this,n=e.target,r=n.value,a=this._keyPressCount>this.state.inputValueKeyPress;if(a&&r?this._autoCompleteAfterRender?(this._setValueMeta(),this._setInputValue(r,function(){t._checkAutoComplete(r,t.props)})):this._checkAutoComplete(r,this.props)||(this._setValueMeta(),this._setInputValue(r)):(this._setValueMeta(),this._setInputValue(r)),a||this.state.open){var s=this.props.onSearch;s&&(clearTimeout(this._searchTimeoutId),this._searchTimeoutId=setTimeout(function(){t._searchTimeoutId=null,r!=t.state.searchValue&&(t.setState({searchValue:r}),s(r))},this.props.searchDebounce))}}},{key:"_checkAutoComplete",value:function(e,t){var n=this,r=!1,a=t.datalist,s=this._itemAdapter.foldValue(e),o=this._listAdapter.filter(a,function(e){return n._itemAdapter.itemIncludedByInput(e,s)&&n._allowItem(e)});if(o.length>0){var i=t.datalistOnly,u=t.datalistPartial;if(1===o.length&&i&&!u){var l=o[0],c=this._itemAdapter.getInputValue(l),f=void 0,p=t.inputSelect;if(e!=c&&p&&this._itemAdapter.foldValue(c).startsWith(s)){var d=this.refs.input;f=function(){p(d,e,c)}}this._setValueMeta(l),this._setInputValue(c,f),r=!0,(this.state.open?t.closeOnCompletion:e!=c&&!t.closeOnCompletion)&&this._toggleOpen("autocomplete",t)}else{var h=o.find(function(e){return n._itemAdapter.itemMatchesInput(e,s)});h&&(this._setValueMeta(h),this._setInputValue(e),r=!0),this.state.open||h&&!(o.length>1)||this._open("autocomplete",t)}}return r}},{key:"_handleItemSelect",value:function(e){if(this.props.multiple)this._addItem(e);else{var t=this._itemAdapter.getInputValue(e);this._setValueMeta(e),this._setInputValue(t)}this._close()}},{key:"_addItem",value:function(e){if(this._allowItem(e)){var t=[].concat(a(this.state.selectedItems),[e]);this.setState({selectedItems:t});var n=this.props,r=n.onAdd,s=n.onChange;r&&r(e),s&&s(t)}this._clearInput(),this.state.open&&this._close()}},{key:"_removeItem",value:function(e){var t=this.state.selectedItems,n=t.slice(0,e).concat(t.slice(e+1));this.setState({selectedItems:n});var r=this.props,a=r.onRemove,s=r.onChange;a&&a(e),s&&s(n)}},{key:"_addInputValue",value:function(){return!!this._inputItem&&(this._addItem(this._inputItem),!0)}},{key:"_handleShowAll",value:function(){this.setState({disableFilter:!0})}},{key:"_handleKeyDown",value:function(e){if(!this.props.disabled)switch(e.keyCode||e.which){case _.default.codes.down:case _.default.codes["page down"]:this.state.open?this.refs.suggestions.focusFirst():this._canOpen()&&this._open("keydown",this.props),e.preventDefault();break;case _.default.codes.left:case _.default.codes.backspace:this.refs.choices&&this.refs.input&&0===this._getCursorPosition(this.refs.input)&&(this.refs.choices.focusLast(),e.preventDefault());break;case _.default.codes.right:this.refs.choices&&this.refs.input&&this._getCursorPosition(this.refs.input)===this.state.inputValue.length&&(this.refs.choices.focusFirst(),e.preventDefault());break;case _.default.codes.enter:if(this.props.multiple&&this.state.inputValue&&(e.preventDefault(),this._addInputValue()))break;this.state.open&&this.state.inputFocused&&(e.preventDefault(),this._pseudofocusedItem?this._handleItemSelect(this._pseudofocusedItem):this._close());break;case _.default.codes.esc:case _.default.codes.tab:this._handleMenuClose(e)}}},{key:"_getCursorPosition",value:function(e){var t=A.default.findDOMNode(e);if(t instanceof HTMLInputElement)return t.selectionStart}},{key:"_handleKeyPress",value:function(){++this._keyPressCount}},{key:"_handleMenuClose",value:function(){this.state.open&&this._close()}},{key:"_handleInputFocus",value:function(){this.setState({inputFocused:!0})}},{key:"_handleInputBlur",value:function(){this.setState({inputFocused:!1})}},{key:"_handleFocus",value:function(){if(this._focusTimeoutId)clearTimeout(this._focusTimeoutId),this._focusTimeoutId=null;else{this._focused=!0;var e=this.props.onFocus;if(e){e(this._getCurrentValue())}}}},{key:"_handleBlur",value:function(e){var t=this;console.log("event.relatedTarget = "+e.relatedTarget),this._focusTimeoutId=setTimeout(function(){t._focusTimeoutId=null,t._focused=!1;var e=t.state.inputValue,n=t.props.onBlur;if(t.props.multiple)e&&!t._addInputValue()&&t._clearInput();else if(e!=t._lastValidValue){var r=void 0;return n&&(r=function(){var e=t._getCurrentValue();n(e)}),t._setValueMeta(t._lastValidItem,!1,!0,!0),void t._setInputValue(t._lastValidValue,r)}if(n){var a=t._getCurrentValue();n(a)}},1)}}]),t}(g.default.Component);N.propTypes={addonAfter:m.default.node,addonBefore:m.default.node,allowDuplicates:m.default.bool,bsSize:m.default.oneOf(["small","large"]),buttonAfter:m.default.node,buttonBefore:m.default.node,choicesClass:m.default.oneOfType([m.default.func,m.default.string]),closeOnCompletion:m.default.bool,datalist:m.default.any,datalistAdapter:m.default.object,datalistMessage:m.default.node,datalistOnly:m.default.bool,datalistPartial:m.default.bool,defaultValue:m.default.any,disabled:m.default.bool,dropup:m.default.bool,groupClassName:m.default.string,inputSelect:m.default.func,itemAdapter:m.default.object,itemReactKeyPropName:m.default.string,itemSortKeyPropName:m.default.string,itemValuePropName:m.default.string,multiple:m.default.bool,onAdd:m.default.func,onBlur:m.default.func,onChange:m.default.func,onDatalistMessageSelect:m.default.func,onFocus:m.default.func,onRemove:m.default.func,onSearch:m.default.func,onSelect:m.default.func,onToggle:m.default.func,placeholder:m.default.string,required:m.default.bool,searchDebounce:m.default.number,showToggle:m.default.oneOfType([m.default.bool,m.default.oneOf(["auto"])]),suggestionsClass:m.default.oneOfType([m.default.func,m.default.string]),toggleId:m.default.oneOfType([m.default.string,m.default.number]),type:m.default.string,value:m.default.any,valueIsItem:m.default.bool},N.contextTypes={$bs_formGroup:m.default.object},N.defaultProps={closeOnCompletion:!1,datalistOnly:!1,datalistPartial:!1,disabled:!1,dropup:!1,inputSelect:N.defaultInputSelect,multiple:!1,itemReactKeyPropName:"key",itemSortKeyPropName:"sortKey",itemValuePropName:"value",searchDebounce:250,showToggle:"auto",type:"text",valueIsItem:!1};var U=N;t.default=U;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(N,"Autosuggest","/Users/murphyke/Documents/code/react-bootstrap-autosuggest/src/Autosuggest.js"),__REACT_HOT_LOADER__.register(U,"default","/Users/murphyke/Documents/code/react-bootstrap-autosuggest/src/Autosuggest.js"))}()},function(e,t,n){"use strict";function r(e){return function(){return e}}var a=function(){};a.thatReturns=r,a.thatReturnsFalse=r(!1),a.thatReturnsTrue=r(!0),a.thatReturnsNull=r(null),a.thatReturnsThis=function(){return this},a.thatReturnsArgument=function(e){return e},e.exports=a},function(e,t,n){"use strict";function r(e,t,n,r,s,o,i,u){if(a(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,s,o,i,u],f=0;l=new Error(t.replace(/%s/g,function(){return c[f++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var a=function(e){};e.exports=r},function(e,t,n){"use strict";var r=n(18),a=n(19),s=n(21);e.exports=function(){function e(e,t,n,r,o,i){i!==s&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}])});